var CWAuthorApi=function(t,e){function o(t){c=s,a(),CwZ(t).on("scroll",function(){Tether.position()})}function a(){if(0==CwZ("#cw-authorFrame").length){var t=document.createElement("iframe");t.src="https://www.colwiz.com/js/extraction/authortooltip/pages/authortooltip.html",t.id="cw-authorFrame",t.scrolling="no",t.style.display="none",t.style.width="510px",t.style.height="550px",t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.zindex="0",t.style.border="0",document.body.appendChild(t)}}function r(t){var e=Math.max(document.documentElement.clientHeight,window.innerHeight||0),o=t[0].getBoundingClientRect().top,a="",r="",i=t.hasClass("cw-showTip");a="-75px 100%",r="left-top",o-50>e/2&&(i=!1,a="-370px 100%");var u=CwZ("#cw-authorFrame");new Tether({element:u,target:t,attachment:"top left",targetAttachment:"bottom left",targetModifier:"visible",targetOffset:a,constraints:[{to:"scrollParent",pin:!0}]});i?n(t,r):h("hideTip",{})}function n(t,e){try{if(CwZ("#cw-authorFrame").offset().left>t.offset().left){var o="dir-"+e;h("setTipPosition",{position:o})}else h("hideTip",{})}catch(a){}}function i(t){try{CwZ("#cw-authorFrame").stop(!0,!0).fadeIn();var e=CwZ(t.target).closest(".cw-authorLink");r(e);var o=e.attr("auid"),a=e.attr("pubid");h("showAuthProfile",{authorObj:o,pubId:a}),"-1"===o&&CwZ("#cw-authorFrame").hide()}catch(n){}}function u(){CwZ("#cw-authorFrame").stop(!0,!0).fadeOut(500,function(){h("hideAuthProfile",{})})}function h(t,e){"showAuthProfile"==t&&(e.authorObj=c[e.authorObj]);var o=CwZ("#cw-authorFrame")[0];o.contentWindow.postMessage({message:t,data:e},"*")}var s=t,c={},l=!1;this.getAuthorPopup=function(){var t=CwH.templates.getAuthorPopup,e={nameInitials:nameInitials,avatarBGColor:avatarBGColor,thisAuth:thisAuth,pubs:pubs,co_authors:co_authors},o=t(e);return o},this.registerAuthBtnEvents=function(){var t;CwZ(document).mouseup(function(t){var e=CwZ("#cw-authorFrame");e.is(t.target)||0!==e.has(t.target).length||CwZ("#cw-authorFrame").fadeOut()}),CwZ("#cw-authorFrame").hover(function(t){l=!0},function(t){l=!1,CwZ("#cw-authorFrame").fadeOut()}),CwZ(".cw-authorLink").hover(function(e){clearTimeout(),t=setTimeout(function(){e.preventDefault(),i(e,!0)},200)},function(e){clearTimeout(t),setTimeout(function(){l===!1&&u()},100)})},o(e)};
//# sourceMappingURL=../../../../../sourcemaps/js/extraction/authortooltip/js/00_main.js.map
